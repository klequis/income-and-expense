> **This project is a work in progress and is not ready for use. If you are interested in contributing open an issue and let me know.**

# Income & Expense

**Just a bunch of thinking**

## Goals
- Retrieve data from api (currently using csv files)
- Categorize transactions based on criteria (done)
- Report on data (monthly / yearly income & expense)
- Export to CSV

**A program for categorizing and reporting on banking data.**

- Categorizes each transaction in two levels.
- Creates report of spending by category.
- Shows spending by month (future)
- UI for categorizing transactions (done)
- UI to explore data by filtering & sorting (sorting done, filtering pending)

## Current Workflow
- Download all relevent accounts to csv files and put in /server/data
- You can name files anything you want but convention I'm using
  - personInitials.institution.accountType.accountLast4.csv
  - E.g., Amy Watson, SSF Bank, Savings account # 1234
    - aw.ssfbank.savings.x1234.csv
- In MongoDB
  - Define accounts in 'accounts' collection. (Future: make UI for this)
In App
- Click Import button
- Rename messy descriptions and add categories


## Necessary Understanding

In this program
1. Any money you spend is a debit & must be a (-) number.
2. Any money you receive is a credit & must be a (+) number
3. Any money that is transferred between accounts should be omitted

Some accounts conform to rules 1 & 2, others do not. It varies by institution and maybe by account in a given institution, but I haven't see that yet. The below will elaborate on this rules and explain how to conform to them when using Income & Expense.

### Debits & Credits

Different banking institutions and account types list debits and credits differently. Let's look at a couple of examples.

#### Ex 1 - Signle Amount Column

The below is an example of a checking account ledger.

| Description         | Amount  |
|---------------------|---------|
| Gasoline            |  -40.34 |
| Gym                 |  -44.99 |
| Grocery             | -114.95 |
| Credit Card Payment |   50.00 |
| Pay check           |1,500.00 |
| Return-refund       |   95.00 |

The table above has a single column, 'Amount', for both credits and debits. Debits are money you spent such as buying gasoline and are (-) numbers. Credits are money you receive such as 'Pay check' and are (+) numbers.

There is one exception, 'Credit Card Payment'. This is a transfer from one account to another. It will show on the credit card statement as well. It is neither money you receive nor money you spent as the actual expenditures are the individual purchase transaction which will show on the credit card ledger. It must be omitted from you Income & Expense records. How to do so will be explained below.

In summary, for this account:
- Debits and credits are in the same Amount column.
- (+) numbers are credits - money you receive
- (-) numbers are debits - money you spent
- Transfers between your accounts such as Credit Card Payment are neither money received nor spent and must be omitted.

#### Ex 2 - Separate Debit & Credit columns

This example comes from a credit card ledger.

| Description          | Debit | Credit |
|----------------------|-------|--------|
| DUNKIN DONUTS        | 2.58  |        |
| SOME HOSTING SERVICE | 4.53  |        |
| COSTCO RETURN        |       | -21.84 |
| GROCERY              | 2.17  |        |
| PAYMENT              |       | -50.00 |
| GASOLINE             | 38.12 |        |

In the table above debits are still money you spent and credits are money you receive. However, the debits are (-) numbers and credits are (+) numbers. This makes sense from the credit card companies perspective. However, from your perspective, debits must be (-) numbers and credits must be (+) numbers. Income & Expense has a way of correcting this which will be explained in a later section.

Let's look at some of the data.
- DUNKIN DONUTS is an expense so it needs to be a (-) number.
- COSTCO RETURN is income, you are receiving this money and it needs to be a (+) number.
- PAYMENT is a transfer from another of your accounts and needs to be omitted.




## Defining ACcounts

### Fields

- `_id` - will be generated by MongoDB
- `acctId` - a unique account name you devise
- `dataFile.name` - the name of the csv file for this account
- `fieldToCol.col` - maps column in csv file to Income & Expense's require fields


```json
{
    "_id" : ObjectId("5e46eef3626be23800bbb040"),
    "acctId" : "[name].[institutionName].[accountType].[accountNumLast4]",
    "dataFile" : {
        "name" : "[name].[institutionName].[accountType].[accountNumLast4].csv"
    },
    "fieldToCol" : {
        "date" : {
            "col" : 2
        },
        "description" : {
            "col" : 3
        },
        "debit" : {
            "col" : 4,
            "parse" : "<0"
        },
        "credit" : {
            "col" : 4,
            "parse" : ">0"
        },
        "typeOrig" : {
            "col" : 5
        },
        "checkNumber" : {
            "col" : 7
        }
    }
}
```

## Motivation

I tried Quicken and Microsoft Money years ago. I had problems with data duplication and being unable to recategorize data. This was a long time ago so they may be better now. As a result, each year, to prepare for taxes, I spend days working with data in Excel typing until my fingers are sore. This project gives me a reusable process.

Additionally:
- I don't want to share my data with 3rd parties.
- I don't need another monthly subscription. They tend to add-up.

If you are interested in this project open an issue labeled 'question'.
